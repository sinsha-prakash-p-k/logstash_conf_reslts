# Logstash Challenge Solution

This repository contains my solution for the Logstash Challenge, demonstrating the ability to ingest, transform, and output security log data using Logstash.

## Project Structure

The repository is organized as follows:

*   **`configurations/`:** Contains the Logstash configuration files (`*.conf`).  These files define the input, filter, and output pipelines for Logstash.
*   **`input_and_results/`:** Contains the input log data file (`formatted_json.txt`) and the output files generated by Logstash (e.g., `logstash_output.csv`, `logstash_output.txt`).
*   **`scrnshts/`:** Contains screenshots demonstrating the Logstash processing, and output.
*   **`README.md`:** This file, providing an overview of the project and instructions for use.

## Logstash Configuration

The Logstash configuration files located in the `configurations/` directory are responsible for:

*   **Input:** Reading the security log data from `input_and_results/formatted_json.txt` using the `file` input plugin.  The `start_position` is set to `"beginning"` to process the entire file from the start.
*   **Filtering:** Transforming the log data using a combination of filters:
    *   `grok`:  Parses the initial structure of the log message.
    *   `mutate`: Renames and converts fields to create a normalized data structure.
*   **Output:**  Writing the transformed data to `input_and_results/logstash_output.csv` using the `csv` output plugin. Other output examples are also written to files.

The configuration files utilize **relative paths** for input and output file locations, making the configuration portable and independent of specific directory structures.


## Input and Output Files

*   **`input_and_results/formatted_json.txt`:**  This file contains the sample security log data used as input for Logstash.  It is expected to be in a syslog-like format with key-value pairs in the message.

*   **`input_and_results/logstash_output.csv`:** This file is generated by Logstash and contains the transformed log data in CSV format.

## Screenshots

The `scrnshts/` directory contains screenshots that illustrate the Logstash parsing and output.

*   `scrnsht_csv_log_parsing.png`: Screenshot showing the Logstash configuration for CSV log parsing.
*   `scrnsht_csv_log.png`: Screenshot of the Logstash output in CSV format.
*   `scrnsht_jsn_log_parsing.png`: Screenshot showing the Logstash configuration for JSON log parsing.
*   `scrnsht_jsn_log.png`: Screenshot of the Logstash output in JSON format.
*   `scrnsht_multiline_log_parsing.png`: Screenshot showing the Logstash configuration for multiline log parsing.
*   `scrnsht_multiline_log.png`: Screenshot of the Logstash output as multiline logs.

## Usage

These instructions are tailored for an Ubuntu system. Please adjust the commands accordingly if you are using a different operating system.

1.  **Prerequisites:**
    *   Logstash must be installed and configured on your system.
    *   Ensure that the Logstash user has read permissions for `input_and_results/formatted_json.txt` and write permissions for creating files in the `input_and_results/` directory.
2.  **Run Logstash:**
    *   Navigate to the root directory of the project:
    *   Start Logstash using one of the configuration files (e.g., `evnt_tst_csv.conf`):
        /usr/share/logstash/bin/logstash -f configurations/evnt_tst_csv.conf
3.  **Verify Output:**
    *   The transformed log data will be written to `input_and_results/logstash_output.csv`.
    *   Examine the output file to ensure the data is transformed correctly.

## Notes

*   The Logstash configuration is designed to be flexible and adaptable to different security log data formats.
*   The use of relative paths ensures that the configuration can be easily deployed and run in different environments.
